<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Facturas del Usuario</title>
    <link rel="stylesheet" type="text/css" href="/static/css/styles.css" th:href="@{css/styles.css}">
</head>
<body>
<header th:insert="~{fragments/header :: headerInvoices}"></header>
<div th:replace="~{fragments/menu :: menuSideBar (${user})}"></div>

<section class="content"  th:if="${#bools.isFalse(hasClient)}">
    <h1 th:text="#{invoices.client}">Declarar Facturas</h1>
    <form role="form" th:action="@{/invoices/client/}" th:object="${clientSelected}" method="post">
        <div >
            <div class="input_comp">
                <label for="cliente"><span th:text="#{invoices.client}">Cliente</span></label>
                <select id="cliente" th:field="*{id}">
                    <option th:each="c : ${clients}" th:value="${c.id()}" th:text="${#strings.concat(c.name, ' ', c.lastName)}"></option>
                </select>
            </div>
        </div>
        <input type="submit" th:value="#{invoices.clientSubmit}" value="Agregar Cliente" class="button_submit">
    </form>
</section>

<section class="content" th:if="${#bools.isTrue(hasClient) and #bools.isFalse(hasProducts)}">
    <div>
        <h1 th:text="#{invoices.productsTitle}">Agregar Productos</h1>
        <form th:action="@{/invoices/product/}">
            <table class="table" th:if="${not #lists.isEmpty(products)}">
                <thead>
                <tr>
                    <th scope="col">Descripción</th>
                    <th scope="col">Costo</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Agregar</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="prod : ${products}">
                    <td th:text="${prod.descripcion}"></td>
                    <td th:text="${prod.costo}"></td>
                    <td>
                        <input class="cantidad_input" type="text" th:name="cantidad">
                    </td>
                    <td>
                        <button type="submit" th:name="id" th:value="${prod.id}">
                            <img class="access_img" th:src="@{images/accesos.svg}" src="../static/images/accesos.svg" alt="Accept">
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </form>
        <h3 th:if="${#lists.isEmpty(products)}">No hay productos registrados</h3>
    </div>

    <div>
        <h1 th:text="#{invoices.productsTitle}">Productos Agregados</h1>
        <table class="table" th:if="${not #lists.isEmpty(products)}">
            <thead>
            <tr>
                <th scope="col">Cantidad</th>
                <th scope="col">Descripción</th>
                <th scope="col">Costo</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="prod : ${products}">
                <td th:text="${prod.descripcion}"></td>
                <td th:text="${prod.costo}"></td>

            </tr>
            </tbody>
        </table>
        <h3 th:if="${#lists.isEmpty(products)}">No hay productos registrados</h3>
    </div>

</section>
        <!--



        <h3 th:text="#{invoices.products}">Productos</h3>
        <div>
            <table class="table" th:if="${not #lists.isEmpty(productsList)}">
                <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Costo</th>
                    <th scope="col">Cantidad</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="prod:${productsList}">
                    <td th:text="${prod.id}"></td>
                    <td th:text="${prod.descripcion}"></td>
                    <td th:text="${prod.costo}"></td>
                    <td th:text="${prod.cantidad}"></td>
                </tr>
                </tbody>
            </table>
            <h3 th:if="${#lists.isEmpty(productsList)}">No hay productos registrados</h3>
        </div>



        <div>
            <label for="iva">IVA</label>
            <input type="text" id="iva" name="iva" th:field="*{iva}" style="border: solid black 1px" disabled>
            <label for="total">Total</label>
            <input type="text" id="total" name="total" th:field="*{costoTotal}" style="border: solid black 1px" disabled><br>
        </div>
        <input type="submit" th:value="#{invoices.submit}" value="Declarar" class="button_submit" style="margin-top: 15px">-->

</body>
</html>